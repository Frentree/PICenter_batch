<?xml version="1.0" encoding="EUC-KR"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"  "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="query">
	<!--  -->
	<select id="getAentIp" resultClass="com.skyun.app.util.database.ibatis.vo.agentIpVo">
		SELECT A.AGENT_CONNECTED_IP AS IP
		FROM pi_targets T
		LEFT OUTER JOIN pi_agents A ON T.NAME = A.AGENT_NAME
		WHERE 1=1
		AND A.AGENT_CONNECTED_IP IS NOT NULL
		AND T.AP_NO != 0
		AND T.NET_TYPE IS NULL OR T.NET_TYPE = ''
	</select>
	
	<select id="getNetIp" resultClass="com.skyun.app.util.database.ibatis.vo.agentIpVo">
		SELECT NI.TYPE, NI.IP, 
		 CONCAT(NI.IP ,'/', NI.MASK) AS MASK_IP
		FROM skt_net_ip NI
	</select>


</sqlMap>
